import{F as o}from"./FormWrapper.b62ba15f.js";import{n as i}from"./index.89f1e795.js";var u=function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.task!==null?a("form-wrapper",{attrs:{title:t.message,"submit-callback":t.submitForm}},[a("p",[t._v(" Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.name,expression:"task.name"}],attrs:{type:"text"},domProps:{value:t.task.name},on:{input:function(e){e.target.composing||t.$set(t.task,"name",e.target.value)}}})]),a("p",[t._v(" Checker: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.checker,expression:"task.checker"}],attrs:{type:"text"},domProps:{value:t.task.checker},on:{input:function(e){e.target.composing||t.$set(t.task,"checker",e.target.value)}}})]),a("p",[t._v(" Gets: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.gets,expression:"task.gets"}],attrs:{type:"number"},domProps:{value:t.task.gets},on:{input:function(e){e.target.composing||t.$set(t.task,"gets",e.target.value)}}})]),a("p",[t._v(" Puts: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.puts,expression:"task.puts"}],attrs:{type:"number"},domProps:{value:t.task.puts},on:{input:function(e){e.target.composing||t.$set(t.task,"puts",e.target.value)}}})]),a("p",[t._v(" Places: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.places,expression:"task.places"}],attrs:{type:"number"},domProps:{value:t.task.places},on:{input:function(e){e.target.composing||t.$set(t.task,"places",e.target.value)}}})]),a("p",[t._v(" Checker timeout: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.checker_timeout,expression:"task.checker_timeout"}],attrs:{type:"number"},domProps:{value:t.task.checker_timeout},on:{input:function(e){e.target.composing||t.$set(t.task,"checker_timeout",e.target.value)}}})]),a("p",[t._v(" Checker type: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.checker_type,expression:"task.checker_type"}],attrs:{type:"text"},domProps:{value:t.task.checker_type},on:{input:function(e){e.target.composing||t.$set(t.task,"checker_type",e.target.value)}}})]),a("p",[t._v(" Env path: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.env_path,expression:"task.env_path"}],attrs:{type:"text"},domProps:{value:t.task.env_path},on:{input:function(e){e.target.composing||t.$set(t.task,"env_path",e.target.value)}}})]),a("p",[t._v(" Get period: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.get_period,expression:"task.get_period"}],attrs:{type:"number"},domProps:{value:t.task.get_period},on:{input:function(e){e.target.composing||t.$set(t.task,"get_period",e.target.value)}}})]),a("p",[t._v(" Default score: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.task.default_score,expression:"task.default_score"}],attrs:{type:"number"},domProps:{value:t.task.default_score},on:{input:function(e){e.target.composing||t.$set(t.task,"default_score",e.target.value)}}})]),a("p",[t._v(" Active: "),a("input",{attrs:{type:"checkbox"},domProps:{checked:t.task.active},on:{input:function(e){t.task.active=e.target.checked}}})])]):t._e()},c=[];const p={components:{FormWrapper:o},data:function(){return{task:null,taskId:null,message:null}},watch:{$route:async function(){await this.updateData()}},created:async function(){await this.updateData()},methods:{updateData:async function(){if(this.taskId=this.$route.params.id,!this.taskId)this.task={name:"",checker:"",gets:1,puts:1,places:1,checker_timeout:20,checker_type:"hackerdom",env_path:"",get_period:10,default_score:2500,active:!0},this.message="Creating task";else{const{data:t}=await this.$http.get(`/admin/tasks/${this.taskId}/`);this.task=t,this.message=`Editing task ${this.task.name} (${this.task.id})`}},submitForm:async function(){if(this.taskId){const{data:t}=await this.$http.put(`/admin/tasks/${this.taskId}/`,this.task);this.task=t,await this.updateData()}else{const{data:t}=await this.$http.post("/admin/tasks/",this.task);this.$router.push({name:"taskAdmin",params:{id:t.id}}).catch(()=>{})}}}},r={};var m=i(p,u,c,!1,l,"47f5e72c",null,null);function l(t){for(let s in r)this[s]=r[s]}var d=function(){return m.exports}(),k=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("task-admin")},_=[];const v={components:{TaskAdmin:d}},n={};var h=i(v,k,_,!1,f,"0c9f689a",null,null);function f(t){for(let s in n)this[s]=n[s]}var x=function(){return h.exports}();export{x as default};
